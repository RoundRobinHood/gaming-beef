<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('partials/header') %>
  <style>
    canvas#crtEffect {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      pointer-events: none;
    }
  </style>
</head>
<body>
  <canvas id="crtEffect"></canvas>
  <div class="container">
    <button class="menu-toggle">â˜°</button>
    <aside class="sidebar">
      <h2>Gaming Beef</h2>
      <ul>
        <li><a href="/home" class="<%= pageTitle === 'Home' ? 'active-link' : '' %>">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
          <span>Home</span>
        </a></li>
        <li><a href="/about" class="<%= pageTitle === 'About' ? 'active-link' : '' %>">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
          <span>About</span>
        </a></li>
        <li><a href="/events" class="<%= pageTitle === 'Events' ? 'active-link' : '' %>">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M580-240q-42 0-71-29t-29-71q0-42 29-71t71-29q42 0 71 29t29 71q0 42-29 71t-71 29ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Z"/></svg>
          <span>Events</span>
        </a></li>
        <li><a href="/contact" class="<%= pageTitle === 'Contact' ? 'active-link' : '' %>">
          <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"/></svg>
          <span>Contact Us</span>
        </a></li>
      </ul>
    </aside>
    <main>
      <%- include(contentPath) %>
    </main>
    <%- include('partials/footer') %>
  </div>
  <script>

    // Typing animation for terminals
    document.addEventListener('DOMContentLoaded', () => {
      const terminals = document.querySelectorAll('.terminal .content');
      terminals.forEach((terminal, index) => {
        const originalText = terminal.textContent.trim();
        terminal.textContent = '';
        let i = 0;
        function type() {
          if (i < originalText.length) {
            terminal.textContent += originalText.charAt(i);
            i++;
            setTimeout(type, 50);
          }
        }
        setTimeout(type, index * 500); // Staggered start for each terminal
        terminal.style.opacity = 1;
      });
    });

    //Sidebar hiding/showing on smaller screens

    document.addEventListener('DOMContentLoaded', () => {
    const toggle = document.querySelector('.menu-toggle');
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');

    toggle.addEventListener('click', () => {
      sidebar.classList.toggle('open');
      main.classList.toggle('shifted');
    });
  });
  </script>
</body>
</html>
